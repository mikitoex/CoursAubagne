backend:
  name: git-gateway
  branch: main

media_folder: "/uploads"
public_folder: "/uploads"
display_url: "https://aubagnecours.netlify.app"
locale: "fr" 

collections:
  - name: "quiz"
    label: "üìö GESTION DES COURS"
    files:
      - name: "data"
        label: "Modifier le contenu"
        file: "quiz.json"
        fields:
          - {
              label: "LES CAT√âGORIES (Tes Cours)", 
              name: "categories", 
              widget: "list", 
              collapsed: true,
              minimize_collapsed: true,
              summary: "üìÇ {{title}}", 
              fields: [
                # √âTAPE 1
                {label: "1Ô∏è‚É£ TITRE DU COURS", name: "title", widget: "string"},
                {label: "üîë IDENTIFIANT (minuscule, pas d'espace)", name: "key", widget: "string"},

                # √âTAPE 2
                {label: "üñºÔ∏è IMAGE (Prioritaire)", name: "image", widget: "image", required: false},
                {label: "üôÇ EMOJI (Texte)", name: "emoji", widget: "string", required: false},

                # √âTAPE 3
                {label: "üéÅ FICHIER PDF (R√©compense)", name: "pdf", widget: "file", required: false},

                # √âTAPE 4 : LE PROMPT D'AIDE (NOUVEAU !)
                {
                  label: "üìã LE PROMPT √Ä COPIER (Copie √ßa et envoie √† l'IA)", 
                  name: "ai_helper", 
                  widget: "text", 
                  required: false,
                  # C'est ici que je mets le texte par d√©faut !
                  default: "Agis comme un professeur p√©dagogue.\nTon objectif : Cr√©er un quiz de r√©vision bas√© UNIQUEMENT sur le fichier que je te joins.\n\nR√àGLES :\n1. Parle fran√ßais naturellement. Ne dis jamais 'Selon le document'.\n2. Fais 10 questions courtes.\n3. Donne-moi UNIQUEMENT le code JSON brut (sans markdown).\n\nFORMAT OBLIGATOIRE :\n[{\"question\": \"...\", \"options\": [\"A\", \"B\"], \"answer\": \"A\", \"explanation\": \"...\"}]",
                  hint: "‚¨ÜÔ∏è Clique dans la case, fais Ctrl+A (Tout s√©lectionner) puis Ctrl+C (Copier). Donne √ßa √† ChatGPT avec ton cours."
                },

                # √âTAPE 5 : COLLER LE R√âSULTAT
                {
                  label: "‚ö° ZONE DE COLLAGE (Colle la r√©ponse de l'IA ici)", 
                  name: "bulk_json", 
                  widget: "text", 
                  required: false,
                  hint: "Colle ici le code JSON que ChatGPT te r√©pond."
                },

                # OPTION MANUELLE
                {
                  label: "‚úçÔ∏è OU Mode Manuel", 
                  name: "questions", 
                  widget: "list",
                  collapsed: true, 
                  summary: "{{question}}",
                  fields: [
                    {label: "Question", name: "question", widget: "string"},
                    {label: "R√©ponses", name: "options", widget: "list"},
                    {label: "Bonne R√©ponse", name: "answer", widget: "string"},
                    {label: "Explication", name: "explanation", widget: "text", required: false}
                  ]
                }
              ]
            }
